import _map from "lodash/map";
import _forEach from "lodash/forEach";
// this export currently gets re-exported in complicated ways at the top-level
// eslint-disable-next-line import/prefer-default-export
export function getTimeSeries(range, coeff) {
  if (coeff === void 0) {
    coeff = 0.05;
  }

  function bump(_array) {
    var x = 10 / (0.01 + Math.random());
    var y = 5 * Math.random() - 0.01;
    var z = 10 / (0.01 + Math.random());

    _forEach(range, function (d, i) {
      var w = (i / range.length - y) * z;
      _array[i] += x * Math.exp(-w * w); // eslint-disable-line no-param-reassign
    });
  }

  var array = [];

  _forEach(range, function (d, i) {
    array[i] = coeff + coeff * Math.random();
  });

  _forEach(range, function () {
    return bump(array);
  });

  return _map(array, function (d, i) {
    return {
      x: range[i],
      y: Math.max(0, d)
    };
  });
}