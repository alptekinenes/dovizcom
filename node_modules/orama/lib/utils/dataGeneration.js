"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/builtin/interopRequireDefault");

exports.__esModule = true;
exports.getTimeSeries = getTimeSeries;

var _map2 = _interopRequireDefault(require("lodash/map"));

var _forEach2 = _interopRequireDefault(require("lodash/forEach"));

// this export currently gets re-exported in complicated ways at the top-level
// eslint-disable-next-line import/prefer-default-export
function getTimeSeries(range, coeff) {
  if (coeff === void 0) {
    coeff = 0.05;
  }

  function bump(_array) {
    var x = 10 / (0.01 + Math.random());
    var y = 5 * Math.random() - 0.01;
    var z = 10 / (0.01 + Math.random());
    (0, _forEach2.default)(range, function (d, i) {
      var w = (i / range.length - y) * z;
      _array[i] += x * Math.exp(-w * w); // eslint-disable-line no-param-reassign
    });
  }

  var array = [];
  (0, _forEach2.default)(range, function (d, i) {
    array[i] = coeff + coeff * Math.random();
  });
  (0, _forEach2.default)(range, function () {
    return bump(array);
  });
  return (0, _map2.default)(array, function (d, i) {
    return {
      x: range[i],
      y: Math.max(0, d)
    };
  });
}